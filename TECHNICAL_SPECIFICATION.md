# Техническое задание: Система учёта складских товаров

**Студент:** Иванов Александр Андреевич

**Группа:** 2407сб2

---

## 1. Описание проекта

### 1.1 Название системы: "Система учёта складских товаров"

### 1.2 Назначение
Система предназначена для автоматизации работы склада.  
Позволяет вести учёт поступления и списания товаров, контролировать остатки, получать уведомления о низком уровне запасов, формировать отчёты и выполнять оплату поставок.

---

## 2. Функциональные требования

### 2.1 Основные функции системы

#### Функция 1: Добавление товара
**Описание:** Пользователь добавляет новый товар в базу данных, указывая наименование, категорию, количество, цену закупки и продажи.  
**Входные данные:** Название товара, категория, количество, цена закупки, цена продажи.  
**Результат:** Новый товар добавлен в базу данных и отображается в общем списке.

#### Функция 2: Редактирование и удаление товаров
**Описание:** Пользователь может изменять параметры существующего товара или удалить его из базы данных.  
**Входные данные:** Идентификатор товара, новые значения полей.  
**Результат:** Изменения сохранены / товар удалён из базы.

#### Функция 3: Учёт поступления товаров
**Описание:** При поступлении новой партии пользователь фиксирует поставку, указывая количество, поставщика и дату поступления.  
**Входные данные:** Товар, количество, поставщик, дата поступления.  
**Результат:** Обновлён остаток на складе, создана запись о поставке.

#### Функция 4: Учёт списания и продаж товаров
**Описание:** Пользователь может оформлять продажу или списание товара с указанием причины.  
**Входные данные:** Товар, количество, причина списания (продажа, брак, возврат и т.д.).  
**Результат:** Остаток на складе уменьшен, создана запись в журнале операций.

#### Функция 5: Отчёт по остаткам и статистика
**Описание:** Система формирует отчёт по текущим остаткам, показывает наиболее продаваемые товары и динамику поступлений.  
**Входные данные:** Выбор периода (дата начала и конца).  
**Результат:** На экран выводится таблица или график с аналитикой.

#### Функция 6: Уведомления о низком запасе
**Описание:** Система автоматически проверяет остатки и уведомляет пользователя, если количество товара ниже установленного минимума.  
**Входные данные:** Порог минимального количества.  
**Результат:** Появляется уведомление о необходимости пополнения.

#### Функция 7: Оплата поставки
**Описание:** Пользователь может зарегистрировать оплату поставки товара. Вводится сумма, способ оплаты и данные поставщика.  
**Входные данные:** Поставщик, сумма оплаты, способ оплаты, дата.  
**Результат:** Платёж добавлен в базу данных, обновлён статус поставки.

---

## 3. Структура базы данных

### Таблица 1: Products
**Описание:** Хранит информацию о товарах на складе.

**Поля:**
- `Id` (int, PK) — уникальный идентификатор товара
- `Name` (string) — наименование товара
- `Category` (string) — категория товара
- `Quantity` (int) — текущее количество на складе
- `MinStock` (int) — минимальное количество для уведомления
- `CreatedAt` (DateTime) — дата обновления

**Связи:** Один ко многим с `Shipments` и `Sales`

### Таблица 2: Shipments
**Описание:** Содержит информацию о поступлениях товаров от поставщиков.

**Поля:**
- `Id` (int, PK) — идентификатор поставки
- `ProductId` (int, FK → Products.Id) — товар
- `SupplierId` (int, FK → Suppliers.Id) — поставщик
- `Quantity` (int) — количество поставленного товара
- `UnitPrice` (decimal) — цена за единицу
- `ShipmentDate` (DateTime) — дата поставки
- `TotalCost` (decimal) — общая стоимость партии

### Таблица 3: Sales
**Описание:** Содержит информацию о продаже или списании товаров.

**Поля:**
- `Id` (int, PK)
- `ProductId` (int, FK → Products.Id)
- `Quantity` (int) — количество списанного товара
- `UnitSalePrice` (decimal) - цена за единицу
- `Reason` (string) — причина списания
- `SaleDate` (DateTime) — дата

### Таблица 4: Suppliers
**Описание:** Информация о поставщиках.

**Поля:**
- `Id` (int, PK)
- `Name` (string) — наименование
- `Phone` (string) — контактный телефон
- `Email` (string) — адрес эл. почты

### Таблица 5: Payments
**Описание:** Учёт произведённых оплат поставок.

**Поля:**
- `Id` (int, PK)
- `ShipmentId` (int, FK → Shipments.Id)
- `Amount` (decimal) — сумма оплаты
- `PaymentDate` (DateTime) — дата платежа
- `PaymentMethod` (string) — способ оплаты

---

## 4. Основные формы приложения

### Форма 1: MainWindow
**Назначение:** Отображение списка товаров и основной навигации.

**Элементы управления:**
- DataGrid — список товаров с фильтрацией
- TextBox — поиск по названию
- Button — "Добавить товар"
- Button — "Редактировать"
- Button — "Удалить"
- Button — "Добавить поставку"
- Button — "Отчёты"
- Button — "Оплаты"

**Действия:**
- "Добавить товар" → `ProductEditWindow`
- "Редактировать" → `ProductEditWindow`
- "Удалить" → удаление товара
- "Поставки" → `ShipmentWindow`
- "Отчёты" → `ReportWindow`
- "Оплаты" → `PaymentWindow`

### Форма 2: ProductEditWindow
**Назначение:** Создание или редактирование информации о товаре.

**Элементы управления:**
- TextBox — наименование
- ComboBox — категория товара
- NumericUpDown — количество
- TextBox — цена закупки
- Button — "Сохранить"
- Button — "Отмена"

**Действия:**
- "Сохранить" — обновление списка товаров в `MainWindow`
- "Отмена" — возврат без сохранения

### Форма 3: ShipmentWindow
**Назначение:** Ввод новых поставок и обновление остатков.

**Элементы управления:**
**Секция заголовка накладной**
- ComboBox - выбор поставщика из списка
- DatePicker - дата поступления
- TextBox - Номер документа
  
**Секция таблицы товаров**
- ComboBox - Выбор товара из каталога
- NumericUpDown - количество едениц
- TextBox - цена за единицу товара
- TextBox (read-only) - расчет кол-во х цена
- Button "Удалить"

**Панель управления таблицей**
- Button  "добавить строку"

**Кнопки действий**
- Button "Сохранить"
- Button "Отмена"

**Действия:**
- "Сохранить" — сохранение поставки и обновление остатков
- "Отмена" - вернуться к `MainWindow`

### Форма 4: ReportWindow
**Назначение:** Просмотр статистики остатков и продаж.

**Элементы управления:**
- ComboBox - выбор отчёта
  - Отчёт по остаткам
  - Отчёт о продажах (продажи за период)
  - Отчёт о прибыли
  - Отчёт по движению товара (Полная история прихода и расхода по конкретному товару за период)

**Действия:**
- "Закрыть" — возврат к `MainWindow`

### Форма 5: PaymentWindow
**Назначение:** Регистрация оплаты поставщику.

**Элементы управления:**
- ComboBox — поставщик
- ComboBox — поставка
- TextBox — сумма
- ComboBox — способ оплаты
- DatePicker — дата
- Button — "Оплатить"
- Button — "Отмена"

**Действия:**
- "Оплатить" — создание записи об оплате и возврат в `MainWindow`
- "Отмена" — возврат в `MainWindow`

---

## 5. Схема переходов между формами

**Запуск** → `MainWindow`

Из `MainWindow`:
- "Добавить товар" → `ProductEditWindow`
- "Редактировать" → `ProductEditWindow`
- "Добавить поставку" → `ShipmentWindow`
- "Отчёты" → `ReportWindow`
- "Оплаты" → `PaymentWindow`

Из `ProductEditWindow`:
- "Сохранить" → обновление списка в `MainWindow`
- "Отмена" → возврат в `MainWindow`

Из `ShipmentWindow`:
- "Сохранить" → возврат в `MainWindow` и обновление остатков

Из `PaymentWindow`:
- "Сохранить" → создание записи в БД → возврат в `MainWindow`
- "Отмена" → возврат в `MainWindow`
